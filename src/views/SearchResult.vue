<template>
    <div class="warp">
        <ul>
            <li class="table_wrap">
                <div class="title">2022_다이렉트_HD_방송_IPto8VSB_채널라인업_20230216</div>
                <div class="info">
                    <div class="time">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                        <path d="M7.45059 0.891593C7.30101 0.88056 7.15072 0.875 7 0.875V0C7.17224 0 7.344 0.00635424 7.51495 0.0189631L7.45059 0.891593ZM9.20436 1.28542C8.92372 1.17717 8.63548 1.08973 8.342 1.02382L8.53372 0.170084C8.86912 0.245405 9.19854 0.345332 9.51927 0.469048L9.20436 1.28542ZM10.4029 1.90725C10.2776 1.82352 10.1495 1.74464 10.019 1.67071L10.4503 0.909389C10.5994 0.993881 10.7458 1.08402 10.889 1.17971C11.0322 1.2754 11.1715 1.37611 11.3066 1.48157L10.7683 2.17138C10.6501 2.0791 10.5282 1.99098 10.4029 1.90725ZM12.0077 3.47318C11.8345 3.22725 11.6434 2.99441 11.436 2.77656L12.0697 2.17322C12.3068 2.42219 12.5252 2.68829 12.7231 2.96934L12.0077 3.47318ZM12.6588 4.65606C12.6011 4.51682 12.5384 4.3801 12.471 4.24613L13.2526 3.85272C13.3296 4.00584 13.4012 4.16209 13.4672 4.32122C13.5331 4.48034 13.5929 4.64146 13.6467 4.80422L12.8159 5.0787C12.7688 4.93629 12.7164 4.79531 12.6588 4.65606ZM13.1232 6.84969C13.1158 6.54899 13.0863 6.24922 13.0348 5.95286L13.8969 5.80327C13.9557 6.14197 13.9895 6.48455 13.9979 6.82821L13.1232 6.84969ZM13.0073 8.19493C13.0367 8.04711 13.0606 7.89862 13.0789 7.74976L13.9474 7.85688C13.9264 8.027 13.8991 8.1967 13.8655 8.36563C13.8319 8.53456 13.7922 8.70178 13.7464 8.86699L12.9031 8.63362C12.9431 8.48907 12.9779 8.34275 13.0073 8.19493ZM12.1747 10.2769C12.3357 10.0227 12.4776 9.75709 12.5995 9.4821L13.3995 9.83669C13.2602 10.151 13.0979 10.4546 12.914 10.745L12.1747 10.2769ZM11.331 11.331C11.4376 11.2245 11.5399 11.1143 11.6379 11.0007L12.3005 11.5722C12.1885 11.702 12.0715 11.828 11.9497 11.9497L11.331 11.331Z" fill="black"/>
                        <path d="M7 0.875C5.99274 0.875 5.00102 1.12341 4.1127 1.59823C3.22437 2.07305 2.46686 2.75962 1.90725 3.59713C1.34765 4.43464 1.00322 5.39723 0.904495 6.39964C0.805766 7.40206 0.955777 8.41335 1.34124 9.34394C1.7267 10.2745 2.33572 11.0957 3.11434 11.7347C3.89297 12.3737 4.81716 12.8108 5.80507 13.0073C6.79298 13.2038 7.81411 13.1537 8.77799 12.8613C9.74188 12.5689 10.6188 12.0433 11.331 11.331L11.9497 11.9497C11.1358 12.7637 10.1336 13.3644 9.03199 13.6986C7.93041 14.0327 6.76341 14.0901 5.63437 13.8655C4.50533 13.6409 3.4491 13.1414 2.55925 12.4111C1.66939 11.6808 0.973374 10.7423 0.532845 9.67878C0.0923164 8.61525 -0.0791244 7.45949 0.0337087 6.31388C0.146542 5.16827 0.540166 4.06816 1.17971 3.11101C1.81926 2.15386 2.68499 1.3692 3.70022 0.826551C4.71545 0.2839 5.84885 0 7 0V0.875Z" fill="black"/>
                        <path d="M6.5625 2.625C6.80413 2.625 7 2.82088 7 3.0625V7.62111L9.84206 9.24514C10.0519 9.36502 10.1247 9.63227 10.0049 9.84206C9.88498 10.0519 9.61773 10.1247 9.40794 10.0049L6.34544 8.25486C6.20913 8.17696 6.125 8.032 6.125 7.875V3.0625C6.125 2.82088 6.32088 2.625 6.5625 2.625Z" fill="black"/>
                        </svg>
                        마지막 수정일자:
                        <span>2023-07-05 15:16:57</span>
                    </div>
                    <div class="type">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <mask id="mask0_346_7011" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="20" height="20">
                        <rect width="20" height="20" fill="#D9D9D9"/>
                        </mask>
                        <g mask="url(#mask0_346_7011)">
                        <path d="M9.58398 9.32014C8.78191 9.32014 8.09528 9.02704 7.5241 8.44084C6.95292 7.85463 6.66733 7.14993 6.66733 6.32675C6.66733 5.50355 6.95292 4.79885 7.5241 4.21265C8.09528 3.62644 8.78191 3.33333 9.58398 3.33333C10.3861 3.33333 11.0727 3.62644 11.6439 4.21265C12.215 4.79885 12.5006 5.50355 12.5006 6.32675C12.5006 7.14993 12.215 7.85463 11.6439 8.44084C11.0727 9.02704 10.3861 9.32014 9.58398 9.32014ZM14.568 15.8333H4.59999C4.2485 15.8333 3.94963 15.707 3.70338 15.4542C3.45712 15.2015 3.33398 14.8947 3.33398 14.534V13.932C3.33398 13.5132 3.44483 13.1253 3.66653 12.7684C3.88821 12.4115 4.18441 12.1371 4.55513 11.9452C5.37886 11.5307 6.20979 11.2199 7.04793 11.0126C7.88608 10.8054 8.73143 10.7018 9.58398 10.7018C10.4365 10.7018 11.2819 10.8054 12.12 11.0126C12.9582 11.2199 13.7891 11.5307 14.6128 11.9452C14.9836 12.1371 15.2798 12.4115 15.5014 12.7684C15.7231 13.1253 15.834 13.5132 15.834 13.932V14.534C15.834 14.8947 15.7109 15.2015 15.4646 15.4542C15.2183 15.707 14.9195 15.8333 14.568 15.8333ZM4.58397 14.5504H14.584V13.932C14.584 13.7588 14.5351 13.5984 14.4374 13.4509C14.3396 13.3035 14.2069 13.1831 14.0391 13.0899C13.3212 12.727 12.5891 12.452 11.8429 12.2651C11.0967 12.0781 10.3437 11.9846 9.58398 11.9846C8.82423 11.9846 8.07126 12.0781 7.32506 12.2651C6.57886 12.452 5.84679 12.727 5.12884 13.0899C4.96111 13.1831 4.82836 13.3035 4.73061 13.4509C4.63285 13.5984 4.58397 13.7588 4.58397 13.932V14.5504ZM9.58398 8.03728C10.0423 8.03728 10.4347 7.86979 10.7611 7.53481C11.0875 7.19983 11.2507 6.79714 11.2507 6.32675C11.2507 5.85635 11.0875 5.45366 10.7611 5.11868C10.4347 4.7837 10.0423 4.61621 9.58398 4.61621C9.12565 4.61621 8.73329 4.7837 8.4069 5.11868C8.08051 5.45366 7.91731 5.85635 7.91731 6.32675C7.91731 6.79714 8.08051 7.19983 8.4069 7.53481C8.73329 7.86979 9.12565 8.03728 9.58398 8.03728Z" fill="#1C1B1F"/>
                        </g>
                        </svg>
                        공유 SKB
                        <span>(CATV 운용팀)</span>
                    </div>
                </div>
                <div id="grid"></div>
            </li>
        </ul>
    </div>
</template>

<script setup lang="ts">
import Grid from 'tui-grid';
import { onMounted } from 'vue';

onMounted(() => {
    class CustomTextEditor {
      constructor(props) {
        const el = document.createElement('input');
        const { maxLength } = props.columnInfo.editor.options;

        el.type = 'text';
        el.maxLength = maxLength;
        el.value = String(props.value);

        this.el = el;
      }

      getElement() {
        return this.el;
      }

      getValue() {
        return this.el.value;
      }

      mounted() {
        this.el.select();
      }
    }

    const grid = new Grid({
      el: document.getElementById('grid'),
      scrollX: false,
      scrollY: false,
      columns: [
        {
          header: 'Name',
          name: 'name',
          editor: 'text'
        },
        {
          header: 'Artist',
          name: 'artist',
          editor: {
            type: CustomTextEditor,
            options: {
              maxLength: 10
            }
          }
        },
        {
          header: 'Type',
          name: 'typeCode',
          formatter: 'listItemText',
          editor: {
            type: 'select',
            options: {
              listItems: [
                { text: 'Deluxe', value: '1' },
                { text: 'EP', value: '2' },
                { text: 'Single', value: '3' }
              ]
            }
          }
        },
        {
          header: 'Genre',
          name: 'genreCode',
          formatter: 'listItemText',
          editor: {
            type: 'checkbox',
            options: {
              listItems: [
                { text: 'Pop', value: '1' },
                { text: 'Rock', value: '2' },
                { text: 'R&B', value: '3' },
                { text: 'Electronic', value: '4' },
                { text: 'etc.', value: '5' }
              ]
            }
          },
          copyOptions: {
            useListItemText: true // when this option is used, the copy value is concatenated text
          }
        },
        {
          header: 'Grade',
          name: 'grade',
          copyOptions: {
            useListItemText: true
          },
          formatter: 'listItemText',
          editor: {
            type: 'radio',
            options: {
              listItems: [
                { text: '★☆☆', value: '1' },
                { text: '★★☆', value: '2' },
                { text: '★★★', value: '3' }
              ]
            }
          }
        }
      ]
    });
    grid.on('beforeChange', ev => {
      console.log('before change:', ev);
    });
    grid.on('afterChange', ev => {
      console.log('after change:', ev);
    })
    // grid.resetData(gridData);
})


// instance.resetData(newData); // Call API of instance's public method

// Grid.applyTheme('striped'); // Call API of static method
</script>

<style lang="scss" scoped>
ul{margin: 0;padding: 0;}
li{list-style: none;}
.warp{
    margin: 48px 0 30px 0;
    .table_wrap{
        background: #fff;
        padding: 24px 40px 24px 40px;
        margin-bottom: 16px;
        .title{
            color: var(--primary-text, #222);
            /* heading/heading5 */
            font-family: Pretendard Variable;
            font-size: 20px;
            font-style: normal;
            font-weight: 700;
            line-height: 110%; /* 22px */
        }
        .info{
            margin-top: 23px;
            display: flex;
            align-items: center;
            gap: 16px;
            align-self: stretch;

            color: var(--primary-text, #222);
            font-family: Pretendard Variable;
            font-size: 14px;
            font-style: normal;
            font-weight: 500;
            line-height: 100%; /* 14px */
            .time{
                span{
                    color: var(--data-bs-theme-light-bs-secondary-text-emphasis, #58595D);
                    font-family: Pretendard Variable;
                    font-size: 14px;
                    font-style: normal;
                    font-weight: 400;
                    line-height: 100%; /* 14px */
                }
            }
            .type{
                span{
                    color: var(--data-bs-theme-light-bs-secondary-text-emphasis, #58595D);
                    font-weight: 400;
                }
            }
        }
    }
}
</style>